\documentclass{article}
\newcommand{\R}[1]{\mathtt{#1}}
\newcommand{\K}[1]{\mathrm{#1}}
\newcommand{\both}{\leftrightarrow}
\newcommand{\textref}[2]{\hyperref[#1]{\underline{\ref*{#1}:~#2}}}
\usepackage[pdfborder={0 0 0}]{hyperref}
\usepackage{fancyhdr}
\usepackage{threeparttable}
\usepackage[nodayofweek]{datetime}
\usepackage[letterpaper,margin=1in]{geometry}
\usepackage{bytefield}
\usepackage{color}
\definecolor{lightgrey}{gray}{0.9}

\newdateformat{isodate}{\THEYEAR-\twodigit{\THEMONTH}-\twodigit{\THEDAY}}

\title{Alpha Language Standard}
\author{Christopher Pavlina}
\date{\isodate\today: Ed. 1} %FIXME

\pagestyle{fancy}
\makeatletter
\lhead{\@title}
\rhead{\thesubsection}
\lfoot{\@date}
\cfoot{}
\rfoot{\thepage}
\makeatother
\begin{document}

\makeatletter
\thispagestyle{empty}
\begin{center}
\huge{\@title} \\
\Large{\@author} \\
\large{First Edition: \today}
\end{center}
\hrule
\tableofcontents
\newpage

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% PREFACE
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\phantomsection
\addcontentsline{toc}{section}{Preface}
\section*{Preface}
\label{sec:preface}
Blah.

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% INTRODUCTION
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Introduction}
\label{sec:intro}
Blah.

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% GRAMMAR SPECIFICATION
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Grammar specification}
\label{sec:grammar}
The grammar for Alpha is specified in a rough Extended Backus-Naur Form. I'll
spare you an introduction to it, but here is a rough table of the allowed
symbols.

\begin{tabular}{|l|c|}
\hline
Definition & \texttt{=} \\
Concatenation & \texttt{,} \\
End of definition & \texttt{;} \\
Choice of & \texttt{|} \\
Optional & \texttt{[} ... \texttt{]} \\
Repeating (one or more) & \texttt{\{} ... \texttt{\}} \\
Grouped & \texttt{(} ... \texttt{)} \\
String & \texttt{"} ... \texttt{"} \\
ASCII char $xx$ & \texttt{\textbackslash xx} \\
Comment & \texttt{(*} ... \texttt{*)} \\
Exclude & \texttt{-} ... \\
Through & ... \texttt{>} ... \\
\hline
\end{tabular}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% LEXICALS
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Lexicals}
\label{sec:lexicals}

%%%%%%%%%%
% ENCODING
\subsection{Encoding}
\label{sec:encoding}
While Alpha has Unicode support in compiled programs, the source code itself
must be ASCII.
\begin{verbatim}
Newline = [\0D], \0A ;
\end{verbatim}

%%%%%%%%
% TOKENS
\subsection{Tokens}
\label{sub:lexicals:tokens}
\begin{verbatim}
digit       = "0" | "1" > "9" ;
alpha       = "A" > "Z" | "a" > "z" ;
printable   = \20 > \7E ;
exponent    = ("e" | "E"), [("+" | "-")], {digit} ;
Real        = [{digit}], ".", {digit}, [exponent] ;
hex         = digit | "A" > "F" | "a" > "f" ;
dec         = digit ;
oct         = digit -("8" | "9") ;
bin         = "0" | "1" ;
Integer     = (  (( "0X" | "0x" ), { hex })
               | ([ "0D" | "0d" ], { dec })
               | (( "0O" | "0o" ), { oct })
               | (( "0B" | "0b" ), { bin }) ) ;
WordExclAt  = (alpha | "_"), [{digit | alpha | "_"}] ;
Word        = ["@"], WordExclAt ;
uarithop    = "++" | "--" | "~" | "-" ;
barithop    = "*" | "/" | "%" | "%%" | "+" | "-" | "<<" | ">>" | "&" |
              "^" | "|" ;
logop       = "!" | "&&" | "||" ;
eqop        = "<" | "<=" | ">" | ">=" | "==" | "!=" | "is" | "isnot" ;
assignop    = [barithop], "=" ;
typeop      = "sizeof" | "new" | "delete" | "hastype" | "typename" |
              "as" ;
umemop      = "*" | "&" ;
sepop       = "(" | ")" | "[" | "]" | "{" | "}" | "," | "." ;
Operator    = uarithop | barithop | logop | eqop | assignop | typeop |
              umemop | sepop ;
escape      = "\", ("a" | "b" | "f" | "n" | "r" | "t" | "v" | "'" |
                    \22 | "\" | ("x", hex, hex)) ;
(* \22 is " *)
String      = \22, [{(printable -("\" | \22)) | escape}], \22 ;
Character   = "'", ((printable -("\" | "'")) | escape), "'" ;
ExtrastandardToken = "$$", WordExclAt ;
Token       = Real | Integer | Word | Operator | String | Character
               | ExtrastandardToken ;
\end{verbatim}

\subsection{Whitespace}
\label{sub:lexicals:whitespace}
\begin{verbatim}
(* space, hor. tab, newline, vert. tab, formfeed, carraige return *)
Whitespace = " " | \09 | \0A | \0B | \0C | \0D ;
\end{verbatim}
All whitespace is ignored; it has no effect on lexical analysis.

\subsection{Comments}
\label{sub:lexicals:comments}
\begin{verbatim}
linecomment  = "//", rest_of_line ;
blockcomment = "/*", anything, "*/" ;
Comment      = linecomment | blockcomment ;
\end{verbatim}
Note that \texttt{anything} above implies that block comments may be nested.
Comments are to be treated as whitespace.

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% KEYWORDS
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Keywords}
\label{sec:keywords}
The following words are keywords. They are invalid for use as type or variable
names.

\texttt{class} (\ref{sub:classes:definition}),
\texttt{method} (\ref{sub:methods:definition}),
\texttt{extern} (\ref{sub:methods:extern}),
\texttt{return} (\ref{sub:statements:return}),
\texttt{let} (\ref{sub:statements:vardecl}),
\texttt{const} (\ref{sub:statements:vardecl}, \ref{sub:types:const}),
\texttt{static} (\ref{sub:methods:static}, \ref{sub:classes:static}),
\texttt{nomangle} (\ref{sub:cconv:nomangle}),
\texttt{threadlocal} (\ref{sub:globals:threadlocal},
                      \ref{sub:classes:threadlocal}),
\texttt{null} (\ref{sub:types:null}),
\texttt{record} (\ref{sub:types:record}),
\texttt{switch} (\ref{sub:statements:switch}),
\texttt{case} (\ref{sub:statements:switch}),
\texttt{default} (\ref{sub:statements:switch}),
\texttt{if} (\ref{sub:statements:if}),
\texttt{else} (\ref{sub:statements:if}),
\texttt{for} (\ref{sub:statements:for}),
\texttt{foreach} (\ref{sub:statements:foreach}),
\texttt{do} (\ref{sub:statements:do}),
\texttt{while} (\ref{sub:statements:while}, \ref{sub:statements:do}),
\texttt{as} (\ref{sub:operators:cast})

\ \\

The following words are primitive type names. They are invalid for use as
variable names. Note that user-defined types may also be used as variable names;
the language design does not allow ambiguities.

\texttt{i8},
\texttt{i16},
\texttt{i32},
\texttt{i64},
\texttt{u8},
\texttt{u16},
\texttt{u32},
\texttt{u64},
\texttt{ssize},
\texttt{int},
\texttt{size},
\texttt{unsigned},
\texttt{float},
\texttt{double},
\texttt{var},
\texttt{void}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% TYPES
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Types}
\label{sec:types}

%%%%%%%%%%%%%%%%%%%%%%
% IN-DOCUMENT NOTATION
\subsection{In-document notation}
\label{sub:types:indoc}
The following notation will be used in this document for types:

\begin{tabular}{|l|l|}
\hline
Signed int, $n$ bits & $\R{SI}_n$ \\
Unsigned int, $n$ bits & $\R{UI}_n$ \\
Floating point, $n$ bits & $\R{FP}_n$ \\
Pointer to $T$ & $T^*$ \\
Array of $T$ & $T^{[]}$ \\
Constant $T$ & $\overline{T}$ \\
Class $\R{c}$ & $\K{c}$ \\
Class $\R{c} \textrm{ with arguments } k, \ldots, k$ & $\K{c}(k, \ldots, k)$ \\
Null type & $\emptyset$ \\
\hline
\end{tabular}

For example, \texttt{map$<$string, int$>$} is
$\K{map}(\K{string}, \R{SI}_{32})$.

%%%%%%%
% NAMES
\subsection{Names}
\label{sub:types:names}
Following is a correlation of types to their Alpha names:

\begin{tabular}{|l|l|}
\hline
$\R{SI}_8$ & \texttt{i8} \\
$\R{SI}_{16}$ & \texttt{i16} \\
$\R{SI}_{32}$ & \texttt{i32} or \texttt{int} \\
$\R{SI}_{64}$ & \texttt{i64} \\
$\R{UI}_8$ & \texttt{u8} \\
$\R{UI}_{16}$ & \texttt{u16} \\
$\R{UI}_{32}$ & \texttt{u32} or \texttt{unsigned} \\
$\R{UI}_{64}$ & \texttt{u64} \\
$\R{FP}_{32}$ & \texttt{float} \\
$\R{FP}_{64}$ & \texttt{double} \\
$T^{[]}$ & $T$\texttt{[]} \\
$T^*$ & $T$\texttt{*} \\
$\overline{T}$ & $T$ \texttt{const} \\
$\mathrm{c}$ & \texttt{c} \\
$\mathrm{c}(k,\ldots,k)$ & \texttt{c$<$k,~...,~k$>$} \\
\hline
\end{tabular}

%%%%%%%%%%
% LITERALS
\subsection{Literals}
\label{sub:types:literals}
\begin{verbatim}
nullLit   = "null" ;
charLit   = Character ;
intLit    = Integer ;
floatLit  = Real ;
arrayLit  = "c{", [Literal, [{",", Literal}]], "}" ;
stringLit = String ;
Literal   = nullLit | intLit | floatLit | arrayLit | stringLit ;
\end{verbatim}

\begin{itemize}
  \item{The null literal \texttt{nullLit} is the only value of type $\emptyset$.}
  \item{Character literals are of type $\R{UI}_{8}$ and contain the ASCII value
    of the character.}
  \item{String literals are of type $\overline{\R{UI}_{8}\,\!^{[]}}$, and contain
    the given sequence of character codes, followed by 0.}
  \item{Array literals are of type $\overline{T}$, where $T$ is the type of the
    contained elements. It is a compile-time error for the elements not to all
    share a type.}
  \item{Integer literals are, of course, integers. They are resolved to a type
    after the arithmetic folding (\ref{sub:passes:arithfold}). The type of an
    integer literal is the first of $\R{SI}_{32}$, $\R{SI}_{64}$, $\R{UI}_{64}$
    which can contain the value.}
  \item{Float literals are always of type $\R{FP}_{64}$, never $\R{FP}_{32}$.}
\end{itemize}

%%%%%%%%%
% CASTING
\subsection{Casting}
\label{sub:types:casting}
\subsubsection{Allowed casts}
See \textref{sub:operators:cast}{Cast}.
All casts not explicitly permitted are forbidden. The following casts are
permitted:
\begin{itemize}
  \item{$T \both T$ \\
    This cast must do nothing.}
  \item{$\R{SI}_a \both \R{UI}_a$ \\
    Re-interpret the binary encoding of one as the other. For example,
    the $\R{SI}_8$ $-128$ casts to the $\R{UI}_8$ $255$ because both are
    encoded as $\mathrm{FF}_{16}$.}
  \item{$\R{SI}_a \both \R{SI}_b$ \\
    If casting from narrow to wide, return the wider $\R{SI}$ which represents
    the same number. In other words, if $b > a$, $\R{SI}_a\,N$ must always cast
    to $\R{SI}_b\,N$. \\
    If casting from wide to narrow, truncate the integer from the most
    significant end to fit.}
  \item{$\R{UI}_a \both \R{UI}_b$ \\
    If casting from narrow to wide, return the wider $\R{UI}$ which represents
    the same number. In other words, if $b > a$, $\R{UI}_a\,N$ must always cast
    to $\R{UI}_b\,N$. \\
    If casting from wide to narrow, truncate the integer from the most
    significant end to fit.}
  \item{$\R{SI}_\mathrm{any} \both \R{FP}_\mathrm{any}$ \\
    Perform the architecture's usual conversion between signed integer and
    floating point. For example, the compiler as of this writing uses the
    LLVM instructions \texttt{sitofp} and \texttt{fptosi}.}
  \item{$\R{UI}_\mathrm{any} \both \R{FP}_\mathrm{any}$ \\
    Perform the architecture's usual conversion between unsigned integer and
    floating point. For example, the compiler as of this writing uses the
    LLVM instructions \texttt{uitofp} and \texttt{fptoui}.}
  \item{$\R{FP}_a \both \R{FP}_b$ \\
    Extend or truncate the floating-point value to the desired size. This
    operation should only change the precision of the float (with the exception
    of values outside the range of the wider number).}
  \item{$T^* \both U^*$ \\
    Return a pointer to the same memory address, of the new type.}
  \item{$T^* \both \R{UI}_a$, where $a > \textrm{width of pointer}$ \\
    Ensure: $[T^*\;x \to \R{UI}_a\;y \to T^*\;z] \Rightarrow [x = z]$}
  \item{$T^{[]} \to T^*$ \\
    If the $T^{[]}$ is null, the $T^*$ should be the null pointer, otherwise,
    the $T^*$ should point to the first element of the $T^{[]}$.}
  \item{$\overline{T} \both T$ \\
    Add or remove the \texttt{const} specifier.}
  \item{$\emptyset \to \R{SI}_a$ \\
    Return $0$.}
  \item{$\emptyset \to \R{UI}_a$ \\
    Return $0$.}
  \item{$\emptyset \to T$ where $T$ is a class \\
    Return the null reference of type $T$.}
  \item{$\emptyset \to T^{[]}$ \\
    Return the null reference of type $T^{[]}$.}
  \item{$\emptyset \to T^*$ \\
    Return the null pointer. This should be the pointer $T^*\;x$ such that
    $x \to \R{UI}_n = 0$.}
\end{itemize}
Note that $\R{SI}_a \both \R{UI}_b$ is disallowed because sign casts and width
casts are not commutative. You must perform one of
$\R{SI}_a \to \R{UI}_a \to \R{UI}_b$ or $\R{SI}_a \to \R{SI}_b \to \R{UI}_b$.

\subsubsection{Implicit casts}
The following casts may be performed implicitly. That is, if the cast
$A \to B$ appears below, it is possible to assign a value of type $A$ directly
to a variable of type $B$, or use it as an argument to a parameter of type
$B$. The compiler should insert the cast implicitly.

\begin{itemize}
\item{$\R{SI}_a \to \R{SI}_b$, where $b \geq a$}
\item{$\R{UI}_a \to \R{UI}_b$, where $b \geq a$}
\item{Integer literal $\in \R{SI}_a \to \R{SI}_a$}
\item{Integer literal $\in \R{UI}_a \to \R{UI}_a$}
\item{$T^{[]} \to T^*$}
\item{$T \to \overline{T}$}
\item{$\emptyset \to \R{SI}_a$}
\item{$\emptyset \to \R{UI}_a$}
\item{$\emptyset \to T$ where $T$ is a class}
\item{$\emptyset \to T^{[]}$}
\item{$\emptyset \to T^*$}
\end{itemize}

\subsubsection{Coercion}
Coercion is an implicit cast performed on one operand of a binary operation.
Whenever a binary operation, such as \texttt{+}, is performed on values of
different types, the ``lesser'' type will be implicitly cast to the
``greater'' (as long as it is allowed per ``Implicit casts'' above).
Types higher in the following list are ``greater''. If two values are of the
same type class but different width, the wider is ``greater''.

\begin{itemize}
\item{$\R{FP}$}
\item{$\R{UI}$}
\item{$\R{SI}$}
\end{itemize}

Note that a few operations define special semantics for certain combinations.
For example, the addition operator gives a special meaning to the addition of
(pointer + int). Normally, non-numeric types (including pointers)
cannot be used in arithmetic.

%%%%%%%%%%%%%%%%
% CONSTANT TYPES
\subsection{Constant types}
\label{sub:types:const}
See \ref{sub:statements:vardecl}.
A constant type $\overline{T}$ may be specified as $T$~\texttt{const}. A
``variable'' declared constant may be stored in a read-only area in the
program's memory, and it is a compile-time error to assign to it.
This constant specifier may be casted off. Compilers are forbidden from
emitting warnings or errors if this is done. The result of the following
is undefined:
\begin{verbatim}
const x: 2;
let xp: &x as int*;
*xp = 3;
\end{verbatim}

Note that \texttt{const~x:~2;} and \texttt{let~x~int~const:~2;} are not the
same. The former actually declares a constant, which is globally accessible and
possibly stored in read-only memory. The latter is a variable, but one that will
cause a compiler error if you assign to it. The latter will always be assignable
if you cast off the \texttt{const}, while the former may cause a segmentation
fault if that is done.

%%%%%%
% NULL
\subsection{The null type}
\label{sub:types:null}
The type denoted in this document as $\emptyset$ is the null type. It is an
unnamed type in Alpha, and has only a single value, denoted as
\texttt{null}. As shown in the cast listings above, it can implicitly cast
to any reference or pointer type, as well as an integer type to allow its use
in conditionals.

The \texttt{null} value is used to denote the absence of a value. For example,
when the compiler is in manual memory mode, the \texttt{new} operator returns
\texttt{null} if no memory is available when requested.

%%%%%%%%%
% RECORDS
\subsection{Records}
\label{sub:types:record}

%%%%%%%%%%%%%
% OBJECT TYPE
\subsection{Object type}
\label{sub:types:object}
The ``object'' type is used for storing arrays, class instances, and variants.
It is defined as follows:
\begin{center}
  \textbf{Main object struct} \\ \vspace{1em}
  \begin{bytefield}{32}
    \bitheader{0-31} \\
    \wordbox[tlr]{1}{Pointer to type struct} \\
    \wordbox[blr]{1}{\emph{continuation of pointer if 64-bit, else unused}} \\
    \wordbox[tlr]{1}{Union of types (see below)} \\
    \wordbox[blr]{1}{$\cdots$} \\
  \end{bytefield}

  \vspace{1em}
  \textbf{(Union) Integers and floats} \\ \vspace{1em}
  \begin{bytefield}{32}
    \bitheader{0-31} \\
    \bitbox{8}{$\R{UI}_8$, $\R{SI}_8$} &
    \bitbox{8}{\dots $\R{UI}_{16}$, $\R{SI}_{16}$} &
    \bitbox{16}{\dots $\R{UI}_{32}$, $\R{SI}_{32}$, $\R{FP}_{32}$} \\
    \bitbox{32}{\dots $\R{UI}_{64}$, $\R{SI}_{64}$, $\R{FP}_{64}$} \\
  \end{bytefield}

  \vspace{1em}
  \textbf{(Union) Array, object, pointer} \\ \vspace {1em}
  \begin{bytefield}{32}
    \bitheader{0-31} \\
    \wordbox[tlr]{1}{Pointer to array struct, object struct, various data} \\
    \wordbox[blr]{1}{\emph{continuation of pointer if 64-bit, else unused}} \\
  \end{bytefield}

  \vspace{1em}
  \textbf{(Union) Null} \\ \vspace{1em}
  \begin{bytefield}{32}
    \bitheader{0-31} \\
    \wordbox[tlr]{1}{\color{lightgrey}\rule{\width}{\height}} \\
    \wordbox[blr]{1}{\color{lightgrey}\rule{\width}{\height}} \\
  \end{bytefield}

  \vspace{1em}
  \textbf{Type struct} \\ \vspace{1em}
  \begin{bytefield}{32}
    \bitheader{0-31} \\
    \wordbox{1}{Type ID (see below)} \\
    \wordbox[tlr]{1}{Pointer to child type struct} \\
    \wordbox[blr]{1}{\emph{continuation of pointer if 64-bit, else unused}} \\
    \wordbox[tlr]{1}{Pointer to sibling type struct} \\
    \wordbox[blr]{1}{\emph{continuation of pointer if 64-bit, else unused}} \\
  \end{bytefield}

  \vspace{1em}
  \textbf{Array struct} \\ \vspace{1em}
  \begin{bytefield}{32}
    \bitheader{0-31} \\
    \wordbox[tlr]{1}{64-bit length of array (in elements, not bytes)} \\
    \wordbox[blr]{1}{$\cdots$} \\
    \wordbox[tlr]{1}{Pointer to first array element} \\
    \wordbox[blr]{1}{\emph{continuation of pointer if 64-bit, else unused}} \\
  \end{bytefield}
\end{center}

Type IDs are:
\begin{center}
\begin{tabular}{|c|p{4in}|}
\hline
0 & Untyped \texttt{null} --- only used when \texttt{null} is put in a
  variant. \\
1 & i8 \\ 2 & i16 \\ 3 & i32 \\ 4 & i64 \\
5 & u8 \\ 6 & u16 \\ 7 & u32 \\ 8 & u64 \\
9 & Array of \emph{child} \\
10 & Pointer to \emph{child} \\
11 & Object. Use \emph{child} to point to the first type argument (for
  parameterised types), and connect further arguments as a singly-linked list
  by the \emph{sibling} field. \\
\texttt{id | 0x8000} & Constant \texttt{id} \\
\hline
\end{tabular}
\end{center}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% OPERATORS
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Operators}
\label{sec:operators}

%%%%%%%%%%%%
% PRECEDENCE
\subsection{Precedence}
\label{sub:operators:precedence}
\begin{center}
  \begin{threeparttable}
    \caption{Operator precedence, high to low}
    \begin{tabular}{|c|c|c|l|}
      \hline
      \texttt{*} & Unary & R$\to$L & Dereference \\
      \texttt{\&} & Unary & R$\to$L & Address of \\
      \texttt{as} $type$ & Binary$^\dagger$ & L$\to$R & Cast to $type$ \\ \hline
      \texttt{=} & Binary & R$\to$L & Assignment \\ \hline
      \texttt{,} & Binary & L$\to$R & Comma (function arguments, assignment tuples) \\ \hline
    \end{tabular}
    \begin{tablenotes}
      \item{$\dagger$ \small{The cast operator is binary, but requires special treatment.
          Because it is impossible to know if a given word is a name or a type, the
          cast operator requires a special ``dummy value'' to represent the type. The
          expression parser will have to implicitly create this dummy value when it sees
          a cast operator.}}
    \end{tablenotes}
  \end{threeparttable}
\end{center}

\subsection{Cast (\texttt{as})}
\label{sub:operators:cast}

%%%%%%%%
% ASSIGN
\subsection{Assign (\texttt{=})}
\label{sub:operators:assign}
The assignment operator (\texttt{=}) is used to assign a value to any item with
a writable pointer (usually variables). Additionally, it can be used to assign
a tuple of values, or a function returning multiple values.
Examples:
\begin{verbatim}
(int, int) returnsTwo () {
    return 2, 3;
}

int main (u8[][] argv) {
    let x: 5, y: 6, z: 7;

    z = 8;
    // z now contains 8

    (x, y) = (y, x);
    // x now contains 6, and y contains 5

    (x, y) = returnsTwo ();
    // x now contains 2, and y contains 3
}
\end{verbatim}

Note that because the comma has a lower precedence than the equals sign,
parentheses must be used to group the tuples. If a multiple assignment is
asymmetric (the number of values does not equal the number of destinations),
the minimum of the two shall be assigned, and any unused values shall not be
evaluated:
\begin{verbatim}
(x, y, z) = (1, 2);
// z is untouched

(x, y) = (1, 2, withSideEffects ());
// The side effects never happen because withSideEffects () is never
// evaluated.
\end{verbatim}

The assignment operator is just that --- an operator --- and any use of it has
a value. For a single assignment, the value of the assignment is the value
assigned. For a multiple assignment, the value of the assignment is the first
of the values assigned. Examples:
\begin{verbatim}
let x: 0, y: 0;

x = y = 3;  // Equivalent to x = (y = 3)
// x and y now both contain 3

let z: (x, y) = (5, 6);
// z now contains 5

// WARNING: The following does not do what it looks like (see above:
// the value of a multiple assignment is the first assigned value,
// and extraneous items on either side are ignored):
(x, y) = (y, x) = (z, y);
// Result:
//   Assign x := y, y := z
//   Assign x := y
// In the end, x, y, and z all have the same value.
\end{verbatim}

%%%%%
% NEW
\subsection{New (\texttt{new})}
\label{sub:operators:new}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% EXPRESSIONS
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Expressions}
\label{sec:expressions}

\subsection{Names}
\label{sub:expressions:names}
\begin{verbatim}
localName   = WordExclAt ;
classVar    = "@", WordExclAt ;
className   = WordExclAt ;
packageName = WordExclAt ;
classDbl    = className, ".", packageName ;
packageTpl  = packageName, ".", classDbl ;
\end{verbatim}

Note that \texttt{localName}, \texttt{className}, and \texttt{packageName} are
defined the same. A package triple (\texttt{packageTpl}) is a fully qualified
name. Packages may not be nested; if you desire nested packages to clarify your
code, consider using an underscore to separate name parts.

Alpha is designed to always have clarity between names and types; there should
never be a question as to whether something is a name or a type. When resolving
names and types, more local should be considered before more distant.

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% STATEMENTS
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Statements}
\label{sec:statements}

\subsection{Variable and constant declaration (\texttt{let} and \texttt{const})}
\label{sub:statements:vardecl}
\begin{verbatim}
localname =;
VarDecl   = "let", ["volatile"], WordExclAt, [typename], ":", Expression,
            [{",", ["volatile"], WordExclAt, [typename], ":", Expression}]
ConstDecl = "const", ["volatile"], WordExclAt, [typename], ":", Expression,
            [{",", ["volatile"], WordExclAt, [typename], ":", Expression}]
\end{verbatim}
Note the general format:
\begin{verbatim}
let varA: 2, varB i8: 3 + someOtherVar;
const cstA: 3, cstB: 5 + varB;
\end{verbatim}
A VarDecl declares all of its variables for use in the current scope. The
expression, which is required, is evaluated at runtime and assigned to the
variable.

A ConstDecl declares all of its constants for use in the current scope, with the
additional requirement that they be globally usable (but not by name). That is,
if you declare \texttt{const~x:~3;}, you can only access the constant by name in
the scope in which it was declared, but the value of \texttt{\&x} will be valid
globally.

The expression for a constant need not be constant itself; it will be evaluated
at runtime. If a constant is not declared volatile and the compiler is not being
run in debug mode, the compiler may fold constants which are known at compile time
into literals. However, it is not required to do this.

Note that because constants are globally available, yet assigned at runtime, a
constant is only valid after its declaration. Despite being a constant, the
assignment shall be executed every time the program passes over the \texttt{const}
line.

%%%%%%%%
% RETURN
\subsection{Return (\texttt{return})}
\label{sub:statements:return}
\begin{verbatim}
ReturnVoid = "return"
Return     = "return", Expression
\end{verbatim}

The \texttt{return} statement defined above as Return is used to return a
value from a method. For a method which returns multiple values,
\texttt{return} should be given a tuple. See:
\begin{verbatim}
int returnsOne () {
    return 2;
}

(int, float) returnsTwo () {
    return 42, 2.71828;
}
\end{verbatim}

The values passed to \texttt{return} must match the method's declaration in
number, and be equal in type or implicitly castable to the declared types.

The statement defined above as ReturnVoid is used to return early from a
method declared \texttt{void}. It must not take a value.

Return with expression may only be used in a function which is not declared
\texttt{void}, and ReturnVoid may only be used in a function which is declared
\texttt{void}.

It is not an error for a function, even one which should return a value, not
to have a \texttt{return} statement. A compiler must not emit an error, though
it may emit a warning. Even though the compiler must allow this, the effect of
it is undefined. The current compiler implicitly returns the
zero/\texttt{null} values of the proper types; while this is not required, it
is good precedent to follow.

%%%%%%%%
% SWITCH
\subsection{Value-based branch (\texttt{switch})}
\label{sub:statements:switch}

%%%%
% IF
\subsection{Conditional (\texttt{if}---\texttt{else})}
\label{sub:statements:if}

%%%%%
% FOR
\subsection{Value-based iteration (\texttt{for})}
\label{sub:statements:for}

%%%%%%%%%
% FOREACH
\subsection{Sequence-based iteration (\texttt{foreach})}
\label{sub:statements:foreach}

%%%%
% DO
\subsection{Post-conditional loop (\texttt{do}---\texttt{while})}
\label{sub:statements:do}

%%%%%%%
% WHILE
\subsection{Pre-conditional loop (\texttt{while})}
\label{sub:statements:while}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% SCOPE
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Scope}
\label{sec:scope}
\begin{verbatim}
Scope = ("{", [{(Scope}], "}" |
         ((Statement | Expression), ";") ) ;
\end{verbatim}
A scope is a block of code and all associated variables and constants. When a
variable or constant is declared, it is valid in the scope in which it is declared,
and in all child scopes. A variable may be redeclared in a scope, which overrides
the declaration for that scope and its children. For example:
\begin{verbatim}
{
    let x: 2;
    // x is 2 here
    {
        let x: "Hello";
        // x is "Hello" here
    }
    // x is still 2 here
}
\end{verbatim}

\subsection{Name resolution}
\label{sub:scope:resolution}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% GLOBALS
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Globals}
\label{sec:globals}

\subsection{Package-local globals}
\label{sub:globals:local}

\subsection{Externally visible globals}
\label{sub:globals:visible}

\subsection{Package-external globals}
\label{sub:globals:extern}

\subsection{Thread-local globals}
\label{sub:globals:threadlocal}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% CLASSES
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Classes}
\label{sec:classes}

\subsection{Defining classes}
\label{sub:classes:definition}

\subsection{Static variables}
\label{sub:classes:static}

\subsection{Thread-local static variables}
\label{sub:classes:threadlocal}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% METHODS AND FUNCTIONS
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Methods and functions}
\label{sec:methods}

\subsection{Defining methods}
\label{sub:methods:definition}

\subsection{Package-external methods}
\label{sub:methods:extern}

\subsection{Method attributes}
\label{sub:methods:attributes}
Method attributes are keywords which come immediately after the closing
parenthesis of a function/method declaration. See:
\begin{verbatim}
int f(int x) nomangle {
    return x %% 2;
}
\end{verbatim}

A compiler may, of course, add attributes, per
\textref{sub:implementation:extrastandard}{Extrastandard features}.
Standard-defined attributes are:
\begin{center}
\begin{tabular}{|l|p{4in}|}
\hline
\texttt{nomangle} & Do not mangle function name. See
  \textref{sub:cconv:nomangle}{Non-mangled functions and \texttt{nomangle}}. \\
\texttt{allowconflict} & Allow defining a \texttt{nomangle} function with the
  same name as a mangled function, or {\it vice versa}. Functions declared
  \texttt{nomangle} always take resolver precedence (see
  \textref{sub:scope:resolution}{Name resolution}), so if you use this,
  functions with mangled names will not be callable within the translation
  unit. Note that from outside the translation unit, the effect is exactly
  opposite: \texttt{nomangle} functions are never implicitly imported. \\
\texttt{global} & The function shall be outside the package. It can be called
  without specifying a package name. The standard library uses this to provide
  builtins like \texttt{print()}. It is still necessary to \texttt{import} the
  package to bring these names into the resolver (with the exception of the
  standard library). This attribute may only be used on functions, not methods,
  and is implicit on operators. \\
\hline
\end{tabular}
\end{center}

\subsection{Static methods}
\label{sub:methods:static}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% CALLING CONVENTION
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Calling convention}
\label{sec:cconv}
The Alpha calling convention is based on the local C calling convention. A
method's equivalent call in C is equivalent to:

\begin{verbatim}
firstReturn mangledName ([this], [secondReturn*]..., arguments...);
\end{verbatim}

For any dynamic, class or array arguments, the value is split into two
$\R{UI}_{64}$ values (see
\textref{sub:types:object}{Object type}).

%%%%%%%%%%%%%%%%%%
% Multiple returns
\subsection{Multiple return values}
\label{sub:cconv:multiple}
A function in Alpha may return multiple values. This is accomplished by
returning the first value normally, and passing pointers to receive further
values as arguments. The pointers are not required to be different (the
compiler may optimise by repeating a pointer for multiple ignored values), so
it is not allowed to depend on a value being present during the function.
A return value pointer may be assumed not to be \texttt{null}; the compiler
should allocate temporary variables for ignored values.

%%%%%%%%%%%%%%%
% Name mangling
\subsection{Name mangling}
\label{sub:cconv:mangling}

To allow for overloading, packages and methods, Alpha method names must be
mangled. Name mangling is as follows:

\begin{verbatim}
operatorId                = "A" > "Z" ;  (* SEE BELOW *)
type                      = ("A" > "Z" - "C") | ("C", classPair)
                             | ("c", packagePair, classPair) ;  (* SEE BELOW *)
pair                      = {"0" > "9"} (* LENGTH OF NAME *),
                             WordExclAt (* NAME *) ;
returnType                = type ;
argType                   = type ;
classPair                 = pair ;
methodPair                = pair ;
functionPair              = pair ;
packagePair               = pair ;

MangledOperator           = "$O", operatorId, returnType, ["$", {argType}] ;
MangledGlobalClassMethod  = "$K", classPair, methodPair, [{returnType}],
                             ["$", {argType}] ;
MangledPackageClassMethod = "$C", packagePair, classPair, methodPair,
                             [{returnType}], ["$", {argType}] ;
MangledGlobalClassCtor    = "$N", classPair, [{argType}] ;
MangledPackageClassCtor   = "$M", packagePair, classPair, [{argType}] ;
MangledGlobalFunction     = "$G", functionPair, [{returnType}],
                             ["$", {argType}] ;
MangledPackageFunction    = "$F", packagePair, functionPair, [{returnType}],
                             ["$", {argType}] ;
SpecialAlphaInternal      = "$$", WordExclAt ;
\end{verbatim}

\texttt{operatorId} is an identifier for one of the operator overloads. The
identifiers are:
\newcommand{\QQ}[2]{\texttt{#1} & #2 &}
\begin{center}
\begin{tabular}{|cc|cc|cc|cc|cc|cc|cc|cc|l}
\cline{1-16}
\QQ{$\sim$}{A}  \QQ{neg}{B} \QQ{*}{C}  \QQ{/}{D}  \QQ{\%}{E}  \QQ{\%\%}{F}  \QQ{+}{G}  \QQ{-}{H} \\
\QQ{<<}{I}      \QQ{>>}{J}  \QQ{\&}{K} \QQ{\^}{L} \QQ{|}{M}   \QQ{<}{N}     \QQ{<=}{O} \QQ{>}{P} \\
\QQ{>=}{Q}      \QQ{==}{R}  \QQ{!=}{S} &&&&&&&&&& \\
\cline{1-16}
\end{tabular}
\end{center}

\texttt{type} is one of the following:
\begin{center}
\begin{tabular}{|cc|cc|cc|cc|cc|cc|cc|cc|l}
\cline{1-16}
$\R{SI}_8$ & A &
$\R{SI}_{16}$ & B &
$\R{SI}_{32}$ & C &
$\R{SI}_{64}$ & D &
$\R{UI}_8$ & E &
$\R{UI}_{16}$ & F &
$\R{UI}_{32}$ & G &
$\R{UI}_{64}$ & H & \\
$\R{FP}_{32}$ & I &
$\R{FP}_{64}$ & J &
$T^*$ & P $t$ &
$T^{[]}$ & Q $t$ &
$\overline{T}$ & K $t$ &&&&&& \\
\cline{1-16}
\multicolumn{8}{|c|}{Global class} &
\multicolumn{8}{c|}{\texttt{"M", classPair}} \\
\multicolumn{8}{|c|}{Package class} &
\multicolumn{8}{c|}{\texttt{"N", packagePair, classPair}} \\
\multicolumn{8}{|c|}{Last type mentioned} &
\multicolumn{8}{c|}{Y} \\
\multicolumn{8}{|c|}{Type of \texttt{this} (methods and ctors only)} &
\multicolumn{8}{c|}{Z} \\
\cline{1-16}
\end{tabular}
\end{center}

Because the index overload \texttt{[]} is really just a method with a
secret hidden name, define it exactly as a method, using the hidden name:
\texttt{\$I} % Full stop omitted for clarity

Here are some methods, operators and constructors with their corresponding
overloads:
\begin{center}
\begin{tabular}{|l|l|}
\hline
double Math.sin (double) & \texttt{\$F4Math3sinJ\$J} \\ \hline
u8 String.\texttt{[]} (size) & \texttt{\$K6String2\$IE\$H} (on 64-bit platforms) \\ \hline
String + (String, String) & \texttt{\$OGC6String\$YY} \\ \hline
Math.Complex.new (double, double) & \texttt{\$M4Math7ComplexJJ} (or \texttt{\$M4Math7ComplexJY}) \\ \hline
void abort () global & \texttt{\$G5abort} \\ \hline
size IO.File.write (u8[] const) & \texttt{\$C2IO4File5writeH\$KQE} (on 64-bit platforms) \\ \hline
\end{tabular}
\end{center}

%%%%%%%%%%
% nomangle
\subsection{Non-mangled functions and \texttt{nomangle}}
\label{sub:cconv:nomangle}
The function attribute \texttt{nomangle} may be used to specify that a function
name must not be mangled. Because type information cannot be inferred,
\texttt{nomangle} functions are not brought in by the \texttt{import} statement.
The only way to import an external non-mangled function is with the
\texttt{extern} statement.

A typical use of \texttt{nomangle} is implementation of various extra functions.
For example, the following code has an automatically generated function added
like this:

\begin{verbatim}
executable hello;

int main (u8[][] args) {
    print ("Hello, world! My arguments are:\n");
    foreach (u8[] i: args) {
        print ("    ", i);
    }
    return 0;
}

// Added automatically by the compiler
extern size strlen (u8*);
extern u8* strcpy (u8*, u8*);
int main (int argc, u8** argv) nomangle allowconflict {
    u8[][] args = new u8[][] (argc);
    for (let i: 0; i < argc; ++i) {
        let len: strlen (argv[i]);
        u8[i] = new u8[] (len + 1);
        strcpy (u8[i], argv[i]);
    }
    return $$name "$F5hello4mainC$PPE" (args);
}
\end{verbatim}

Note \texttt{allowconflict} and \texttt{\$\$name}. \texttt{allowconflict} is
another function attribute (see
\textref{sub:methods:attributes}{Method attributes}.
\texttt{\$\$name} is an extrastandard feature
(see \textref{sub:implementation:extrastandard}{Extrastandard features}).

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% COMPILE PASSES
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Compile passes}
\label{sec:passes}

\subsection{Arithmetic folding}
\label{sub:passes:arithfold}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% IMPLEMENTATION
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Implementation}
\label{sec:implementation}

%%%%%%%%%%%%%%%%%%%%%%%%%
% Compiler identification
\subsection{Compiler identification}
\label{sub:implementation:ident}
The following features are for compiler identification. They are defined
like extrastandard features, but are not (sorry!).

\begin{center}
\begin{tabular}{|l|p{4in}|}
\hline
\texttt{\$\$COMPILER\_NAME} & Expands at compile time to a string constant
  containing the name of the compiler. Not required to be unique. The compiler
  must give this in its version information (the text dumped by, e.g., the
  \texttt{-version} command line option). Example: AlCo gives
  \texttt{"AlCo"}. \\
\texttt{\$\$COMPILER\_ID} & Reverse-domain ID of the compiler. This should be
  based on a domain you actually own, or at least which identifies you
  (for example, Sourceforge allows using \texttt{net.sf.{\it projectname}}).
  The compiler must give this in its version information.
  Example: AlCo gives \texttt{"me.pavlina.alco"}. \\
\texttt{\$\$COMPILER\_VERSION} & Integer version of the compiler. This should
  be comparable with basic integer operations. A suggestion is to use two
  hexadecimal digits per section of the version number. The compiler must give
  this in its version information.
  Example: AlCo 1.3 would give \texttt{0x0103}. \\
\texttt{\$\$COMPILER\_REQUIRED} & Require a given compiler. Format is
  \texttt{\$\$COMPILER\_REQUIRED ({\it compilerID} {\it compare}
  {\it version})}. Example: to require AlCo 1.3 or higher, use:
  \texttt{\$\$COMPILER\_REQUIRED("me.pavlina.alco" >= 0x0103)}

  A compiler which does not match the requirement must give an error here. \\
\hline
\end{tabular}
\end{center}

%%%%%%%%%%%%%%%%%%%%%%%%
% Extrastandard features
\subsection{Extrastandard features}
\label{sub:implementation:extrastandard}
Compilers are allowed to implement so-called {\it extrastandard} features. These
are features which are outside of, but not in violation of, the Alpha standard.

\begin{verbatim}
ExtrastandardToken = "$$", WordExclAt ;
\end{verbatim}

Extrastandard features must be labelled with an \texttt{ExtrastandardToken}.
They must not change the behaviour of any code which does not include any.
The syntax of any extrastandard feature is unspecified, to be defined by the
implementation. Obviously, any code using an extrastandard feature may be
syntactically invalid on a compiler which does not provide it.

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% AlCo extrastandard features
\subsection{AlCo extrastandard features}
\label{sub:implementation:alcoextra}
These extrastandard features are present in AlCo. \textbf{Note that this is not
part of the standard. Compiler implementers are not required to follow this,
though it may help to ensure compatibility.}

\begin{center}
\begin{tabular}{|l|p{4in}|}
\hline
\texttt{\$\$name} & Use the next token's value (usually a string constant) as
  a symbol name. This allows using invalid characters in the name, and is
  usually used by the runtime library's code to manually call mangled and/or
  internal (special-name) functions. \\
\hline
\end{tabular}
\end{center}

%%%%%%%%%%%%%%%%%%
% Compiler options
\subsection{Compiler options}
\label{sub:implementation:options}
Compilers must provide the following command-line options. It is acceptable to
give them aliases following precedent on the platform (e.g. forward slashes
on Windows), but these names must be present.

\begin{center}
\begin{tabular}{|l|p{4in}|}
\hline
\texttt{-version} & Emit version information. Certain things must be present;
  see \textref{sub:implementation:ident}{Compiler identification}. \\
\texttt{-o {\it file}} & Place the output into {\it file}, whether or not
  the file is properly named. \\
\texttt{-c} & Do not link; only output an object code file (extension
  \texttt{.o} on Unix-like systems). \\
\texttt{-l {\it lib}} & Link with system library {\it lib}. This is assumed
  to be a C library, and if you want to use its functions, you'll have to
  declare them \texttt{extern}. \\
\texttt{-P {\it path}} & Add {\it path} to the search path for Alpha
  packages. \\
\texttt{-nolibs} & Do not link in the standard implicitly linked libraries.
  These usually include libc, libm, libgc, libpthread, and the Alpha
  standard library. \\
\texttt{-noimport} & Do not import the runtime implicitly. It will still be
  linked in, unless you also specify \texttt{-nolibs}. \\
\texttt{-nogc} & Do not use garbage collection in this compile unit. The system
  \texttt{malloc()} and \texttt{free()} will be used for \texttt{new} and
  \texttt{delete}, and it will be necessary to use \texttt{delete}. \\
\texttt{-nomemabort} & Do not automatically display an error message on
  out-of-memory and abort. Instead, \texttt{new} should return \texttt{null}
  in this case. See \textref{sub:operators:new}{New (\texttt{new})}. \\
\hline
\end{tabular}
\end{center}

\end{document}
